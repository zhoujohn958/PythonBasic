# 面向对象编程
---
## 一、模拟学生和老师的一天

### 人物出场介绍

#### 学生

* 姓名
* 年龄
* 年级

#### 老师

* 姓名
* 年龄
* 部门

### 行为流程

| 行为    | 学生           | 老师           |
| ----- | ------------ | ------------ |
| 起床    | 睁开眼睛、起身、穿好衣服 | 睁开眼睛、起身、穿好衣服 |
| 洗漱    | 刷牙、洗脸        | 刷牙、洗脸        |
| 吃饭    | 吃菜、扒饭        | 吃菜、扒饭        |
| 登录/打卡 | 输入账号密码、登录成功  | 录入指纹、打卡成功    |
| 学习/工作 | 看视频、查资料、写代码  | 授课、答疑、写代码    |
| 睡觉    | 脱掉外套、躺下、闭眼   | 脱掉外套、躺下、闭眼   |
| 人数统计  | 统计、公布        | 统计、公布        |

---

## 二、面向过程编程示例

```python
def get_up(name):
    print(f'{name}睁开眼睛')
    print(f'{name}起身')
    print(f'{name}穿好衣服')

def wash(name):
    print(f'{name}刷牙')
    print(f'{name}洗脸')

def eat(name):
    print(f'{name}吃菜')
    print(f'{name}扒饭')

def login_id(name):
    print(f'{name}输入账号密码')
    print(f'{name}登录账号成功')

def study(name):
    print(f'{name}看视频')
    print(f'{name}查资料')
    print(f'{name}写代码')

def sleep(name):
    print(f'{name}脱掉外套')
    print(f'{name}躺下')
    print(f'{name}闭上眼睛')

count_s = 0
stu1 = '张三'
age1 = 18
grade1 = '高三'
print(f'大家好! 我是{stu1}, 今年{age1}岁, 目前正在读{grade1}!')
count_s += 1
get_up(stu1)
wash(stu1)
eat(stu1)
login_id(stu1)
study(stu1)
eat(stu1)
study(stu1)
eat(stu1)
wash(stu1)
sleep(stu1)
print(f'当前统计的学生人数为: {count_s}')
```

---

## 三、面向对象编程示例

### 类定义

```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
        self.show_time()

    def get_up(self):
        print(f'{self.name}睁开眼睛')
        print(f'{self.name}起身')
        print(f'{self.name}穿好衣服')

    def wash(self):
        print(f'{self.name}刷牙')
        print(f'{self.name}洗脸')

    def eat(self):
        print(f'{self.name}吃菜')
        print(f'{self.name}扒饭')

    def sleep(self):
        print(f'{self.name}脱掉外套')
        print(f'{self.name}躺下')
        print(f'{self.name}闭上眼睛')

    def show_time(self):
        pass
```

### 学生类

```python
class Student(Person):
    count_s = 0

    def __init__(self, name, age, grade):
        self.grade = grade
        super(Student, self).__init__(name, age)
        Student.count_s += 1

    def show_time(self):
        print(f'大家好! 我是{self.name}, 今年{self.age}岁, 目前正在读{self.grade}!')

    def login_id(self):
        print(f'{self.name}输入账号密码')
        print(f'{self.name}登录账号成功')

    def study(self):
        print(f'{self.name}看视频')
        print(f'{self.name}查资料')
        print(f'{self.name}写代码')

    @classmethod
    def publish(cls):
        print(f'当前统计的学生人数为: {cls.count_s}')
```

### 教师类

```python
class Teacher(Person):
    count_t = 0

    def __init__(self, name, age, department):
        self.department = department
        super(Teacher, self).__init__(name, age)
        Teacher.count_t += 1

    def show_time(self):
        print(f'大家好! 我是{self.name}, 今年{self.age}岁, 在{self.department}任职!')

    def clock_in(self):
        print(f'{self.name}录入指纹')
        print(f'{self.name}打卡成功')

    def work(self):
        print(f'{self.name}授课')
        print(f'{self.name}答疑')
        print(f'{self.name}写代码')

    @classmethod
    def publish(cls):
        print(f'当前统计的老师人数为: {cls.count_t}')
```

---

## 四、面向对象基本概念

### 类属性与实例属性

```python
class Student:
    school = '深兰教育'  # 类属性

    def __init__(self, name, age):
        self.name = name  # 实例属性
        self.age = age
```

### 魔术方法说明

* `__new__()`：构造方法，用于创建对象。
* `__init__()`：初始化方法，用于设置属性。

### 属性操作

* `getattr(obj, attr[, default])`
* `setattr(obj, attr, value)`
* `hasattr(obj, attr)`
* `delattr(obj, attr)`

---

## 五、类方法、对象方法、静态方法

```python
class Student:
    school = '深兰教育'

    def __init__(self, name):
        self.name = name

    def study1(self, course):  # 对象方法
        print(f'{self.name}在学习{course}课!')

    @classmethod
    def study2(cls, course):  # 类方法
        print(f'{cls.school}的学生在学习{course}课!')

    @staticmethod
    def study3(course):  # 静态方法
        print(f'{Student.school}的学生在学习{course}课!')

    @property
    def study4(self):  # 只读属性
        return f'{self.name}在学习Python课'
```

---

## 六、面向对象三大特性

### 1. 封装

```python
class Person:
    __eat = 'rice'

    def __init__(self, name, age):
        self.name = name
        self.__age = age

    def get_age(self):
        return self.__age

    def call_sleep(self):
        self.__sleep()

    def __sleep(self):
        print(f'{self.name}睡觉了!')
```

### 2. 继承

```python
class Animal:
    def eat(self):
        print("动物吃东西")

class Cat(Animal):
    def eat(self):
        print(f"猫吃鱼")

class Ragdoll(Cat):
    def eat(self):
        print("喝咖啡")
```

### 继承相关函数

* `isinstance(object, classinfo)`
* `issubclass(class, classinfo)`

### 3. 多态性

```python
class Apple:
    @staticmethod
    def change():
        return '啊~ 我变成了苹果汁!'

class Juicer:
    @staticmethod
    def work(fruit):
        print(fruit.change())

Juicer.work(Apple)
```

---
